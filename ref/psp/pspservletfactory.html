
<!DOCTYPE html>

<html>
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>PSPServletFactory &#8212; Webware for Python 3 3.0.2 documentation</title>
    <link rel="stylesheet" href="../../_static/pygments.css" type="text/css" />
    <link rel="stylesheet" href="../../_static/alabaster.css" type="text/css" />
    <script id="documentation_options" data-url_root="../../" src="../../_static/documentation_options.js"></script>
    <script src="../../_static/jquery.js"></script>
    <script src="../../_static/underscore.js"></script>
    <script src="../../_static/doctools.js"></script>
    <link rel="index" title="Index" href="../../genindex.html" />
    <link rel="search" title="Search" href="../../search.html" />
    <link rel="copyright" title="Copyright" href="../../copyright.html" />
    <link rel="next" title="PSPUtils" href="psputils.html" />
    <link rel="prev" title="PSPParser" href="pspparser.html" />
   
  <link rel="stylesheet" href="../../_static/custom.css" type="text/css" />
  
  
  <meta name="viewport" content="width=device-width, initial-scale=0.9, maximum-scale=0.9" />

  </head><body>
  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          

          <div class="body" role="main">
            
  <div class="section" id="module-PSP.PSPServletFactory">
<span id="pspservletfactory"></span><h1>PSPServletFactory<a class="headerlink" href="#module-PSP.PSPServletFactory" title="Permalink to this headline">¶</a></h1>
<p>This module handles requests from the application for PSP pages.</p>
<p>Copyright (c) by Jay Love, 2000 (<a class="reference external" href="mailto:jsliv&#37;&#52;&#48;jslove&#46;org">mailto:jsliv<span>&#64;</span>jslove<span>&#46;</span>org</a>)</p>
<p>Permission to use, copy, modify, and distribute this software and its
documentation for any purpose and without fee or royalty is hereby granted,
provided that the above copyright notice appear in all copies and that
both that copyright notice and this permission notice appear in
supporting documentation or portions thereof, including modifications,
that you make.</p>
<dl class="py class">
<dt id="PSP.PSPServletFactory.PSPServletFactory">
<em class="property">class </em><code class="sig-prename descclassname">PSP.PSPServletFactory.</code><code class="sig-name descname">PSPServletFactory</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">application</span></em><span class="sig-paren">)</span><a class="headerlink" href="#PSP.PSPServletFactory.PSPServletFactory" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="../core/servletfactory.html#ServletFactory.ServletFactory" title="ServletFactory.ServletFactory"><code class="xref py py-class docutils literal notranslate"><span class="pre">ServletFactory.ServletFactory</span></code></a></p>
<p>Servlet Factory for PSP files.</p>
<dl class="py method">
<dt id="PSP.PSPServletFactory.PSPServletFactory.__init__">
<code class="sig-name descname">__init__</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">application</span></em><span class="sig-paren">)</span><a class="headerlink" href="#PSP.PSPServletFactory.PSPServletFactory.__init__" title="Permalink to this definition">¶</a></dt>
<dd><p>Create servlet factory.</p>
<p>Stores a reference to the application in self._app, because
subclasses may or may not need to talk back to the application
to do their work.</p>
</dd></dl>

<dl class="py method">
<dt id="PSP.PSPServletFactory.PSPServletFactory.clearFileCache">
<code class="sig-name descname">clearFileCache</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#PSP.PSPServletFactory.PSPServletFactory.clearFileCache" title="Permalink to this definition">¶</a></dt>
<dd><p>Clear class files stored on disk.</p>
</dd></dl>

<dl class="py method">
<dt id="PSP.PSPServletFactory.PSPServletFactory.computeClassName">
<code class="sig-name descname">computeClassName</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">pageName</span></em><span class="sig-paren">)</span><a class="headerlink" href="#PSP.PSPServletFactory.PSPServletFactory.computeClassName" title="Permalink to this definition">¶</a></dt>
<dd><p>Generates a (hopefully) unique class/file name for each PSP file.</p>
<p>Argument: pageName: the path to the PSP source file
Returns: a unique name for the class generated fom this PSP source file</p>
</dd></dl>

<dl class="py method">
<dt id="PSP.PSPServletFactory.PSPServletFactory.extensions">
<code class="sig-name descname">extensions</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#PSP.PSPServletFactory.PSPServletFactory.extensions" title="Permalink to this definition">¶</a></dt>
<dd><p>Return a list of extensions that match this handler.</p>
<p>Extensions should include the dot. An empty string indicates a file
with no extension and is a valid value. The extension ‘.*’ is a special
case that is looked for a URL’s extension doesn’t match anything.</p>
</dd></dl>

<dl class="py method">
<dt id="PSP.PSPServletFactory.PSPServletFactory.fileEncoding">
<code class="sig-name descname">fileEncoding</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#PSP.PSPServletFactory.PSPServletFactory.fileEncoding" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the file encoding used in PSP files.</p>
</dd></dl>

<dl class="py method">
<dt id="PSP.PSPServletFactory.PSPServletFactory.flushCache">
<code class="sig-name descname">flushCache</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#PSP.PSPServletFactory.PSPServletFactory.flushCache" title="Permalink to this definition">¶</a></dt>
<dd><p>Clean out the cache of classes in memory and on disk.</p>
</dd></dl>

<dl class="py method">
<dt id="PSP.PSPServletFactory.PSPServletFactory.importAsPackage">
<code class="sig-name descname">importAsPackage</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">transaction</span></em>, <em class="sig-param"><span class="n">serverSidePathToImport</span></em><span class="sig-paren">)</span><a class="headerlink" href="#PSP.PSPServletFactory.PSPServletFactory.importAsPackage" title="Permalink to this definition">¶</a></dt>
<dd><p>Import requested module.</p>
<p>Imports the module at the given path in the proper package/subpackage
for the current request. For example, if the transaction has the URL
<a class="reference external" href="http://localhost/Webware/MyContextDirectory/MySubdirectory/MyPage">http://localhost/Webware/MyContextDirectory/MySubdirectory/MyPage</a>
and path = ‘some/random/path/MyModule.py’ and the context is configured
to have the name ‘MyContext’ then this function imports the module at
that path as MyContext.MySubdirectory.MyModule . Note that the context
name may differ from the name of the directory containing the context,
even though they are usually the same by convention.</p>
<p>Note that the module imported may have a different name from the
servlet name specified in the URL. This is used in PSP.</p>
</dd></dl>

<dl class="py method">
<dt id="PSP.PSPServletFactory.PSPServletFactory.loadClass">
<code class="sig-name descname">loadClass</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">transaction</span></em>, <em class="sig-param"><span class="n">path</span></em><span class="sig-paren">)</span><a class="headerlink" href="#PSP.PSPServletFactory.PSPServletFactory.loadClass" title="Permalink to this definition">¶</a></dt>
<dd><p>Load the appropriate class.</p>
<p>Given a transaction and a path, load the class for creating these
servlets. Caching, pooling, and threadsafeness are all handled by
servletForTransaction. This method is not expected to be threadsafe.</p>
</dd></dl>

<dl class="py method">
<dt id="PSP.PSPServletFactory.PSPServletFactory.loadClassFromFile">
<code class="sig-name descname">loadClassFromFile</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">transaction</span></em>, <em class="sig-param"><span class="n">fileName</span></em>, <em class="sig-param"><span class="n">className</span></em><span class="sig-paren">)</span><a class="headerlink" href="#PSP.PSPServletFactory.PSPServletFactory.loadClassFromFile" title="Permalink to this definition">¶</a></dt>
<dd><p>Create an actual class instance.</p>
<p>The module containing the class is imported as though it were a
module within the context’s package (and appropriate subpackages).</p>
</dd></dl>

<dl class="py method">
<dt id="PSP.PSPServletFactory.PSPServletFactory.name">
<code class="sig-name descname">name</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#PSP.PSPServletFactory.PSPServletFactory.name" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the name of the factory.</p>
<p>This is a convenience for the class name.</p>
</dd></dl>

<dl class="py method">
<dt id="PSP.PSPServletFactory.PSPServletFactory.returnServlet">
<code class="sig-name descname">returnServlet</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">servlet</span></em><span class="sig-paren">)</span><a class="headerlink" href="#PSP.PSPServletFactory.PSPServletFactory.returnServlet" title="Permalink to this definition">¶</a></dt>
<dd><p>Return servlet to the pool.</p>
<p>Called by Servlet.close(), which returns the servlet
to the servlet pool if necessary.</p>
</dd></dl>

<dl class="py method">
<dt id="PSP.PSPServletFactory.PSPServletFactory.servletForTransaction">
<code class="sig-name descname">servletForTransaction</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">transaction</span></em><span class="sig-paren">)</span><a class="headerlink" href="#PSP.PSPServletFactory.PSPServletFactory.servletForTransaction" title="Permalink to this definition">¶</a></dt>
<dd><p>Return a new servlet that will handle the transaction.</p>
<p>This method handles caching, and will call loadClass(trans, filepath)
if no cache is found. Caching is generally controlled by servlets
with the canBeReused() and canBeThreaded() methods.</p>
</dd></dl>

<dl class="py method">
<dt id="PSP.PSPServletFactory.PSPServletFactory.uniqueness">
<code class="sig-name descname">uniqueness</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#PSP.PSPServletFactory.PSPServletFactory.uniqueness" title="Permalink to this definition">¶</a></dt>
<dd><p>Return uniqueness type.</p>
<p>Returns a string to indicate the uniqueness of the ServletFactory’s
servlets. The Application needs to know if the servlets are unique
per file, per extension or per application.</p>
<p>Return values are ‘file’, ‘extension’ and ‘application’.</p>
<p>NOTE: Application so far only supports ‘file’ uniqueness.</p>
</dd></dl>

</dd></dl>

</div>


          </div>
          
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
<h1 class="logo"><a href="../../index.html">Webware for Python 3</a></h1>








<h3>Navigation</h3>
<p class="caption"><span class="caption-text">Contents:</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../../overview.html">Overview</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../install.html">Installation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../changes.html">List of Changes</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../migrate.html">Migration Guide</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../copyright.html">Copyright and License</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../quickstart.html">Quickstart</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../tutorial.html">Beginner Tutorial</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../appdev.html">Application Development</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../config.html">Configuration</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../deploy.html">Deployment</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../plugins.html">Plug-ins</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../style.html">Style Guidelines</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../psp.html">PSP</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../userkit.html">UserKit</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../taskkit.html">TaskKit</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../webutils.html">WebUtils</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../miscutils.html">MiscUtils</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../testing.html">Testing</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="../index.html">API Reference</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="../core/index.html">Core Classes</a></li>
<li class="toctree-l2 current"><a class="reference internal" href="index.html">PSP</a></li>
<li class="toctree-l2"><a class="reference internal" href="../userkit/index.html">UserKit</a></li>
<li class="toctree-l2"><a class="reference internal" href="../taskkit/index.html">TaskKit</a></li>
<li class="toctree-l2"><a class="reference internal" href="../webutils/index.html">WebUtils</a></li>
<li class="toctree-l2"><a class="reference internal" href="../miscutils/index.html">MiscUtils</a></li>
</ul>
</li>
</ul>

<div class="relations">
<h3>Related Topics</h3>
<ul>
  <li><a href="../../index.html">Documentation overview</a><ul>
  <li><a href="../index.html">API Reference</a><ul>
  <li><a href="index.html">PSP</a><ul>
      <li>Previous: <a href="pspparser.html" title="previous chapter">PSPParser</a></li>
      <li>Next: <a href="psputils.html" title="next chapter">PSPUtils</a></li>
  </ul></li>
  </ul></li>
  </ul></li>
</ul>
</div>
<div id="searchbox" style="display: none" role="search">
  <h3 id="searchlabel">Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="../../search.html" method="get">
      <input type="text" name="q" aria-labelledby="searchlabel" />
      <input type="submit" value="Go" />
    </form>
    </div>
</div>
<script>$('#searchbox').show(0);</script>








        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="footer">
      &copy;1999-2021, Christoph Zwerschke et al.
      
      |
      Powered by <a href="http://sphinx-doc.org/">Sphinx 3.4.3</a>
      &amp; <a href="https://github.com/bitprophet/alabaster">Alabaster 0.7.12</a>
      
      |
      <a href="../../_sources/ref/psp/pspservletfactory.rst.txt"
          rel="nofollow">Page source</a>
    </div>

    

    
  </body>
</html>